<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ’± NDF ì›ë‹¬ëŸ¬ íŠ¸ë ˆì´ë”© ì‹œê·¸ë„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a3a 100%);
            min-height: 100vh;
            color: #ffffff;
            padding: 15px;
            padding-bottom: 100px;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            padding: 20px 0;
            border-bottom: 1px solid #2a2a4a;
            margin-bottom: 20px;
        }
        
        .header h1 {
            font-size: 1.5rem;
            margin-bottom: 8px;
            background: linear-gradient(90deg, #00d4ff, #ff0080);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header .subtitle {
            font-size: 0.85rem;
            color: #8892b0;
        }
        
        .clock {
            font-size: 0.75rem;
            color: #00d4ff;
            margin-top: 10px;
            font-family: 'Consolas', monospace;
        }
        
        .market-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            margin-top: 8px;
        }
        
        .market-status.optimal {
            background: rgba(255, 211, 42, 0.2);
            color: #ffd32a;
            border: 1px solid #ffd32a;
        }
        
        .market-status.open {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
            border: 1px solid #00ff88;
        }
        
        .market-status.closed {
            background: rgba(136, 146, 176, 0.2);
            color: #8892b0;
            border: 1px solid #8892b0;
        }
        
        .concept-card {
            background: linear-gradient(135deg, #1a3a2a 0%, #0a2a1a 100%);
            border: 1px solid #00ff88;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .concept-card h3 {
            color: #00ff88;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .concept-card p {
            font-size: 0.85rem;
            line-height: 1.6;
            color: #e0e0e0;
        }
        
        .concept-highlight {
            background: rgba(0, 255, 136, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            color: #00ff88;
        }
        
        .input-card {
            background: #141428;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid #2a2a4a;
        }
        
        .input-card h3 {
            color: #00d4ff;
            font-size: 1rem;
            margin-bottom: 5px;
        }
        
        .input-card .desc {
            color: #8892b0;
            font-size: 0.8rem;
            margin-bottom: 15px;
        }
        
        .input-group {
            margin-bottom: 12px;
        }
        
        .input-group label {
            display: block;
            font-size: 0.85rem;
            color: #c0c0c0;
            margin-bottom: 6px;
        }
        
        .input-group input {
            width: 100%;
            padding: 14px;
            border: 2px solid #2a2a4a;
            border-radius: 10px;
            background: #1e1e3c;
            color: #ffffff;
            font-size: 1.1rem;
            text-align: right;
            transition: border-color 0.3s;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #00d4ff;
        }
        
        .quick-links {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .quick-link {
            padding: 12px;
            border-radius: 10px;
            background: #1e1e3c;
            color: #00d4ff;
            text-decoration: none;
            text-align: center;
            font-size: 0.85rem;
            font-weight: 600;
            border: 1px solid #2a2a4a;
            transition: all 0.3s;
        }
        
        .quick-link:active {
            background: #2a2a4a;
            transform: scale(0.98);
        }
        
        .analyze-btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 15px;
            background: linear-gradient(90deg, #ff0080, #ff4757);
            color: white;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(255, 0, 128, 0.3);
        }
        
        .analyze-btn:active {
            transform: scale(0.98);
            box-shadow: 0 2px 10px rgba(255, 0, 128, 0.3);
        }
        
        .signal-card {
            border-radius: 20px;
            padding: 30px 20px;
            text-align: center;
            margin-bottom: 20px;
            display: none;
        }
        
        .signal-card.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .signal-card.sell {
            background: linear-gradient(135deg, #0a3d2a 0%, #0a2a1a 100%);
            border: 2px solid #00ff88;
        }
        
        .signal-card.buy {
            background: linear-gradient(135deg, #3d0a1a 0%, #2a0a0a 100%);
            border: 2px solid #ff4757;
        }
        
        .signal-card.hold {
            background: linear-gradient(135deg, #3d3a0a 0%, #2a2a0a 100%);
            border: 2px solid #ffd32a;
        }
        
        .signal-emoji {
            font-size: 3rem;
            margin-bottom: 10px;
        }
        
        .signal-text {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .signal-card.sell .signal-text { color: #00ff88; }
        .signal-card.buy .signal-text { color: #ff4757; }
        .signal-card.hold .signal-text { color: #ffd32a; }
        
        .signal-sub {
            font-size: 1rem;
            color: #e0e0e0;
            margin-bottom: 15px;
        }
        
        .signal-gap {
            font-size: 0.9rem;
            color: #8892b0;
            margin-bottom: 15px;
        }
        
        .confidence-bar {
            background: #333;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px auto;
            max-width: 80%;
        }
        
        .confidence-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        .signal-card.sell .confidence-fill { background: #00ff88; }
        .signal-card.buy .confidence-fill { background: #ff4757; }
        .signal-card.hold .confidence-fill { background: #ffd32a; }
        
        .confidence-text {
            font-size: 0.85rem;
            color: #c0c0c0;
        }
        
        .detail-card {
            background: #141428;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid #2a2a4a;
            display: none;
        }
        
        .detail-card.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .detail-card h3 {
            color: #00d4ff;
            font-size: 1rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #2a2a4a;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #1e1e3c;
        }
        
        .detail-row:last-child {
            border-bottom: none;
        }
        
        .detail-label {
            color: #8892b0;
            font-size: 0.85rem;
        }
        
        .detail-value {
            color: #ffffff;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .detail-value.positive { color: #00ff88; }
        .detail-value.negative { color: #ff4757; }
        
        .strategy-card {
            background: #141428;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid #2a2a4a;
            display: none;
        }
        
        .strategy-card.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .strategy-card h3 {
            color: #ff0080;
            font-size: 1rem;
            margin-bottom: 15px;
        }
        
        .strategy-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 12px;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .strategy-item::before {
            content: "â€¢";
            color: #00d4ff;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .guide-card {
            background: #141428;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #2a2a4a;
        }
        
        .guide-card h3 {
            color: #ffd32a;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .guide-card p {
            font-size: 0.8rem;
            color: #8892b0;
            line-height: 1.6;
        }
        
        .warning {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid #ff4757;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            font-size: 0.8rem;
            color: #ff4757;
            text-align: center;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .loading.show {
            display: block;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #2a2a4a;
            border-top-color: #00d4ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .save-btn {
            width: 100%;
            padding: 12px;
            border: 1px solid #2a2a4a;
            border-radius: 10px;
            background: transparent;
            color: #8892b0;
            font-size: 0.9rem;
            cursor: pointer;
            margin-bottom: 10px;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #8892b0;
            font-size: 0.75rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ’± NDF ì›ë‹¬ëŸ¬ íŠ¸ë ˆì´ë”©</h1>
            <p class="subtitle">í•œêµ­ì´ ì ë“  ì‚¬ì´ ë‰´ìš•ì—ì„œ ê±°ë˜ëœ í™˜ìœ¨ë¡œ<br>ì˜¤ëŠ˜ì˜ ì‹œì¥ì„ ë¯¸ë¦¬ ì½ìœ¼ì„¸ìš”!</p>
            <div class="clock" id="clock"></div>
            <div class="market-status" id="marketStatus"></div>
        </header>
        
        <div class="concept-card">
            <h3>ğŸ’¡ í•µì‹¬ ê°œë… (ì´ê²ƒë§Œ ê¸°ì–µí•˜ì„¸ìš”!)</h3>
            <p>
                <span class="concept-highlight">NDF > ì „ì¼ì¢…ê°€</span> â†’ í™˜ìœ¨ ìƒìŠ¹ ì˜ˆìƒ â†’ <strong>ì›í™” ë§¤ë„</strong><br>
                <span class="concept-highlight">NDF < ì „ì¼ì¢…ê°€</span> â†’ í™˜ìœ¨ í•˜ë½ ì˜ˆìƒ â†’ <strong>ì›í™” ë§¤ìˆ˜</strong>
            </p>
        </div>
        
        <div class="input-card">
            <h3>ğŸ“Œ STEP 1: ì „ì¼ ì¢…ê°€</h3>
            <p class="desc">ì–´ì œ ì›ë‹¬ëŸ¬ í™˜ìœ¨ ë§ˆê°ê°€ë¥¼ ì…ë ¥í•˜ì„¸ìš”</p>
            <div class="input-group">
                <label>ì „ì¼ ì¢…ê°€ (ì›)</label>
                <input type="number" id="prevClose" value="1438.29" step="0.01" inputmode="decimal">
            </div>
        </div>
        
        <div class="input-card">
            <h3>ğŸ“Œ STEP 2: í˜„ì¬ NDF í™˜ìœ¨</h3>
            <p class="desc">Barchartì—ì„œ ì‹¤ì‹œê°„ ì—­ì™¸í™˜ìœ¨ì„ í™•ì¸í•˜ì„¸ìš”</p>
            <div class="input-group">
                <label>NDF í˜„ì¬ê°€ (ì›)</label>
                <input type="number" id="ndfRate" value="1478.44" step="0.01" inputmode="decimal">
            </div>
            <div class="input-group">
                <label>ë³€ë™í­ (ì›)</label>
                <input type="number" id="ndfChange" value="2.88" step="0.01" inputmode="decimal">
            </div>
            <div class="input-group">
                <label>ë³€ë™ë¥  (%)</label>
                <input type="number" id="ndfChangePct" value="0.20" step="0.01" inputmode="decimal">
            </div>
        </div>
        
        <div class="quick-links">
            <a href="https://www.barchart.com/forex/quotes/%5EUSDKRW/forward-rates" target="_blank" class="quick-link">
                ğŸ“ˆ Barchart ì—´ê¸°
            </a>
            <a href="https://finance.naver.com/marketindex/exchangeDetail.naver?marketindexCd=FX_USDKRW" target="_blank" class="quick-link">
                ğŸ” ë„¤ì´ë²„ í™˜ìœ¨
            </a>
        </div>
        
        <button class="analyze-btn" onclick="analyze()">
            ğŸš€ ë¶„ì„í•˜ê³  ì‹œê·¸ë„ ë°›ê¸°
        </button>
        
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>ë¶„ì„ ì¤‘...</p>
        </div>
        
        <div class="signal-card" id="signalCard">
            <div class="signal-emoji" id="signalEmoji">ğŸŸ¢</div>
            <div class="signal-text" id="signalText">ì›í™” ë§¤ë„</div>
            <div class="signal-sub" id="signalSub">(ë‹¬ëŸ¬ ë§¤ìˆ˜ - í™˜ìœ¨ ìƒìŠ¹ ì˜ˆìƒ)</div>
            <div class="signal-gap" id="signalGap">NDF ê°­: +40.15ì› (+2.79%)</div>
            <div class="confidence-text" id="confidenceText">ì‹œê·¸ë„ ê°•ë„: ë§¤ìš° ê°•í•¨ (85%)</div>
            <div class="confidence-bar">
                <div class="confidence-fill" id="confidenceFill" style="width: 85%"></div>
            </div>
        </div>
        
        <div class="detail-card" id="detailCard">
            <h3>ğŸ“Š ì‹œì¥ ë°ì´í„°</h3>
            <div class="detail-row">
                <span class="detail-label">ì „ì¼ ì¢…ê°€</span>
                <span class="detail-value" id="detailPrevClose">1,438.29ì›</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">NDF í˜„ì¬ê°€</span>
                <span class="detail-value" id="detailNdfRate">1,478.44ì›</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">NDF ë³€ë™</span>
                <span class="detail-value" id="detailNdfChange">+2.88ì› (+0.20%)</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">ê°­ (NDF - ì „ì¼ì¢…ê°€)</span>
                <span class="detail-value" id="detailGap">+40.15ì› (+2.79%)</span>
            </div>
        </div>
        
        <div class="strategy-card" id="strategyCard">
            <h3>ğŸ“‹ ì¶”ì²œ ì „ëµ</h3>
            <div id="strategyList"></div>
        </div>
        
        <div class="guide-card">
            <h3>ğŸ“– Barchartì—ì„œ NDF ì½ëŠ” ë²•</h3>
            <p>
                â€¢ ìƒë‹¨ í° ìˆ«ì = NDF í˜„ì¬ê°€<br>
                â€¢ +2.88 (+0.20%) = ì „ì¼ ëŒ€ë¹„ ë³€ë™<br>
                â€¢ ì•„ì¹¨ 6~8ì‹œ í™•ì¸ì´ ê°€ì¥ ì •í™•í•´ìš”!
            </p>
        </div>
        
        <button class="save-btn" onclick="saveData()">ğŸ’¾ ë°ì´í„° ì €ì¥í•˜ê¸°</button>
        
        <div class="warning">
            âš ï¸ ì´ ë¶„ì„ì€ ì°¸ê³ ìš©ì´ë©°, íˆ¬ì ê²°ì •ì€ ë³¸ì¸ ì±…ì„ì…ë‹ˆë‹¤.<br>
            NDF ì‹œê·¸ë„ ì ì¤‘ë¥ ì€ ì•½ 65~75%ì…ë‹ˆë‹¤.
        </div>
        
        <div class="footer">
            <p>ğŸ’± NDF ì›ë‹¬ëŸ¬ íŠ¸ë ˆì´ë”© ì‹œê·¸ë„ ì‹œìŠ¤í…œ</p>
            <p>Â© 2025 - ì•„ì¹¨ 9ì‹œ ì „ì— í™•ì¸í•˜ì„¸ìš”!</p>
        </div>
    </div>
    
    <script>
        function updateClock() {
            const now = new Date();
            const options = { 
                timeZone: 'Asia/Seoul',
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            };
            const formatter = new Intl.DateTimeFormat('ko-KR', options);
            const parts = formatter.formatToParts(now);
            
            let year, month, day, hour, minute, second;
            parts.forEach(part => {
                if (part.type === 'year') year = part.value;
                if (part.type === 'month') month = part.value;
                if (part.type === 'day') day = part.value;
                if (part.type === 'hour') hour = part.value;
                if (part.type === 'minute') minute = part.value;
                if (part.type === 'second') second = part.value;
            });
            
            const hourNum = parseInt(hour);
            const dayOfWeek = new Date(now.toLocaleString('en-US', {timeZone: 'Asia/Seoul'})).getDay();
            
            document.getElementById('clock').textContent = `ğŸ‡°ğŸ‡· ${year}-${month}-${day} ${hour}:${minute}:${second} KST`;
            
            const statusEl = document.getElementById('marketStatus');
            
            if (dayOfWeek === 0 || dayOfWeek === 6) {
                statusEl.textContent = 'ğŸ”´ ì£¼ë§ íœ´ì¥';
                statusEl.className = 'market-status closed';
            } else if (hourNum >= 6 && hourNum < 9) {
                statusEl.textContent = 'ğŸŸ¡ NDF í™•ì¸ ìµœì  ì‹œê°„!';
                statusEl.className = 'market-status optimal';
            } else if (hourNum >= 9 && hourNum < 16) {
                statusEl.textContent = 'ğŸŸ¢ í•œêµ­ì‹œì¥ ê±°ë˜ì¤‘';
                statusEl.className = 'market-status open';
            } else {
                statusEl.textContent = 'âšª í•œêµ­ì‹œì¥ ë§ˆê°';
                statusEl.className = 'market-status closed';
            }
        }
        
        setInterval(updateClock, 1000);
        updateClock();
        
        function loadData() {
            const saved = localStorage.getItem('ndfTradingData');
            if (saved) {
                const data = JSON.parse(saved);
                if (data.prevClose) document.getElementById('prevClose').value = data.prevClose;
                if (data.ndfRate) document.getElementById('ndfRate').value = data.ndfRate;
                if (data.ndfChange) document.getElementById('ndfChange').value = data.ndfChange;
                if (data.ndfChangePct) document.getElementById('ndfChangePct').value = data.ndfChangePct;
            }
        }
        loadData();
        
        function saveData() {
            const data = {
                prevClose: document.getElementById('prevClose').value,
                ndfRate: document.getElementById('ndfRate').value,
                ndfChange: document.getElementById('ndfChange').value,
                ndfChangePct: document.getElementById('ndfChangePct').value,
                savedAt: new Date().toISOString()
            };
            localStorage.setItem('ndfTradingData', JSON.stringify(data));
            alert('âœ… ë°ì´í„°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }
        
        function analyze() {
            const prevClose = parseFloat(document.getElementById('prevClose').value);
            const ndfRate = parseFloat(document.getElementById('ndfRate').value);
            const ndfChange = parseFloat(document.getElementById('ndfChange').value);
            const ndfChangePct = parseFloat(document.getElementById('ndfChangePct').value);
            
            if (isNaN(prevClose) || isNaN(ndfRate)) {
                alert('ì „ì¼ ì¢…ê°€ì™€ NDF í˜„ì¬ê°€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            document.getElementById('loading').classList.add('show');
            document.getElementById('signalCard').classList.remove('show');
            document.getElementById('detailCard').classList.remove('show');
            document.getElementById('strategyCard').classList.remove('show');
            
            setTimeout(() => {
                const gap = ndfRate - prevClose;
                const gapPct = (gap / prevClose) * 100;
                
                let signal, signalText, signalSub, emoji, strategies;
                
                if (gap > 0) {
                    signal = 'sell';
                    signalText = 'ì›í™” ë§¤ë„';
                    signalSub = '(ë‹¬ëŸ¬ ë§¤ìˆ˜ - í™˜ìœ¨ ìƒìŠ¹ ì˜ˆìƒ)';
                    emoji = 'ğŸŸ¢';
                    strategies = [
                        'ì˜¤ëŠ˜ ì‹œì¥ì€ ì–´ì œë³´ë‹¤ ë†’ê²Œ ì‹œì‘í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ìš”',
                        'ì›í™”ë¥¼ íŒ”ê³  ë‹¬ëŸ¬ë¥¼ ì‚¬ëŠ” í¬ì§€ì…˜ì„ ê³ ë ¤í•˜ì„¸ìš”',
                        'ê°­ìƒìŠ¹ í›„ ë˜ëŒë¦¼ì´ ì˜¬ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”',
                        'ì†ì ˆê°€: ì „ì¼ ì¢…ê°€ ì•„ë˜ë¡œ ì„¤ì •'
                    ];
                } else if (gap < 0) {
                    signal = 'buy';
                    signalText = 'ì›í™” ë§¤ìˆ˜';
                    signalSub = '(ë‹¬ëŸ¬ ë§¤ë„ - í™˜ìœ¨ í•˜ë½ ì˜ˆìƒ)';
                    emoji = 'ğŸ”´';
                    strategies = [
                        'ì˜¤ëŠ˜ ì‹œì¥ì€ ì–´ì œë³´ë‹¤ ë‚®ê²Œ ì‹œì‘í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ìš”',
                        'ë‹¬ëŸ¬ë¥¼ íŒ”ê³  ì›í™”ë¥¼ ì‚¬ëŠ” í¬ì§€ì…˜ì„ ê³ ë ¤í•˜ì„¸ìš”',
                        'ê°­í•˜ë½ í›„ ë°˜ë“±ì´ ì˜¬ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”',
                        'ì†ì ˆê°€: ì „ì¼ ì¢…ê°€ ìœ„ë¡œ ì„¤ì •'
                    ];
                } else {
                    signal = 'hold';
                    signalText = 'ê´€ë§';
                    signalSub = '(ë°©í–¥ì„± ë¶ˆë¶„ëª… - ê¸°ë‹¤ë¦¬ì„¸ìš”)';
                    emoji = 'ğŸŸ¡';
                    strategies = [
                        'ì‹œì¥ì´ ë³´í•©ìœ¼ë¡œ ì‹œì‘í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ìš”',
                        'í™•ì‹¤í•œ ë°©í–¥ì´ ë‚˜ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì„¸ìš”',
                        'ì¥ ì‹œì‘ í›„ 30ë¶„ê°„ ì¶”ì´ë¥¼ ì§€ì¼œë³´ì„¸ìš”',
                        'ì‹œê·¸ë„ì´ ì•½í•  ë•ŒëŠ” ë¬´ë¦¬í•˜ê²Œ ì§„ì…í•˜ì§€ ë§ˆì„¸ìš”'
                    ];
                }
                
                const absGap = Math.abs(gap);
                let confidence, strength;
                
                if (absGap >= 10) {
                    confidence = Math.min(95, 70 + absGap);
                    strength = 'ë§¤ìš° ê°•í•¨';
                } else if (absGap >= 5) {
                    confidence = 50 + absGap * 2;
                    strength = 'ê°•í•¨';
                } else if (absGap >= 2) {
                    confidence = 30 + absGap * 5;
                    strength = 'ë³´í†µ';
                } else {
                    confidence = 20 + absGap * 5;
                    strength = 'ì•½í•¨';
                }
                
                const signalCard = document.getElementById('signalCard');
                signalCard.className = `signal-card show ${signal}`;
                document.getElementById('signalEmoji').textContent = emoji;
                document.getElementById('signalText').textContent = signalText;
                document.getElementById('signalSub').textContent = signalSub;
                document.getElementById('signalGap').textContent = 
                    `NDF ê°­: ${gap >= 0 ? '+' : ''}${gap.toFixed(2)}ì› (${gapPct >= 0 ? '+' : ''}${gapPct.toFixed(2)}%)`;
                document.getElementById('confidenceText').textContent = 
                    `ì‹œê·¸ë„ ê°•ë„: ${strength} (${confidence.toFixed(0)}%)`;
                document.getElementById('confidenceFill').style.width = `${confidence}%`;
                
                document.getElementById('detailPrevClose').textContent = `${prevClose.toLocaleString()}ì›`;
                document.getElementById('detailNdfRate').textContent = `${ndfRate.toLocaleString()}ì›`;
                
                const changeEl = document.getElementById('detailNdfChange');
                changeEl.textContent = `${ndfChange >= 0 ? '+' : ''}${ndfChange.toFixed(2)}ì› (${ndfChangePct >= 0 ? '+' : ''}${ndfChangePct.toFixed(2)}%)`;
                changeEl.className = `detail-value ${ndfChange >= 0 ? 'positive' : 'negative'}`;
                
                const gapEl = document.getElementById('detailGap');
                gapEl.textContent = `${gap >= 0 ? '+' : ''}${gap.toFixed(2)}ì› (${gapPct >= 0 ? '+' : ''}${gapPct.toFixed(2)}%)`;
                gapEl.className = `detail-value ${gap >= 0 ? 'positive' : 'negative'}`;
                
                const strategyList = document.getElementById('strategyList');
                strategyList.innerHTML = strategies.map(s => 
                    `<div class="strategy-item">${s}</div>`
                ).join('');
                
                document.getElementById('loading').classList.remove('show');
                document.getElementById('detailCard').classList.add('show');
                document.getElementById('strategyCard').classList.add('show');
                
                signalCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
            }, 800);
        }
    </script>
</body>
</html>
